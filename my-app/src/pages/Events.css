/* =========================================================
   Banner
   ========================================================= */
.events-hero {
  max-width: 1200px;
  width: calc(100% - 3rem);
  margin: 1.5rem auto 2rem;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 6px 24px rgba(0,0,0,0.12);
  background: #e9eef2;
}
.events-hero-img {
  display: block;
  width: 100%;
  height: clamp(220px, 32vw, 420px);
  object-fit: cover;
  object-position: center;
}
body.has-fixed-nav .events-hero {
  margin-top: calc(var(--nav-height, 64px) + 1rem);
}

/* =========================================================
   Headings
   ========================================================= */
.events-heading {
  font-family: "Merriweather", serif;
  font-size: clamp(2rem, 2.5vw + 1rem, 3rem);
  color: #0a4b8c;
  text-align: center;
  margin: 1rem 0 1rem 0;
}
.events-heading--inverse { color: #fff; }
.past-section .events-heading {
  margin-top: .25rem;
  margin-bottom: 1rem;
}

/* =========================================================
   Upcoming (3-per-page vertical viewport)
   ========================================================= */
.up-viewport {
  max-width: 1000px;
  margin: 0 auto 1.5rem;
  /* height is set inline by JS to the height of one .up-page */
  overflow-y: auto;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  overscroll-behavior: contain;
  padding-right: .25rem;
}
.up-page {
  scroll-snap-align: start;
  display: grid;
  gap: 2rem;             /* spacing between the 3 cards on a page */
  padding: .5rem 0 1rem;
}

.up-card {
  display: grid;
  position: relative;
  grid-template-columns: 80px 1fr;
  gap: 1rem;
  padding: 1rem 1.1rem;
  border-radius: 12px;
}

.up-card::after {
  content: "";
  position: absolute;
  left: 22px;
  right: 22px;
  bottom: -1rem;
  height: 2px;
  background: #0a4b8c;
  opacity: .45;
  border-radius: 999px;
}

/* remove line only from the true last card */
.up-page:last-of-type .up-card:last-of-type::after {
  content: none;
}

.up-date {
  display: grid;
  place-items: center;
  border-right: 2px dashed rgba(0,0,0,.08);
  padding-right: .5rem;
}
.up-date-month { font-weight: 600; color: #0a4b8c; letter-spacing: .04em; }
.up-date-day   { font-size: 1.8rem; line-height: 1; font-weight: 700; }
.up-date-year  { color: #6b7280; font-size: .9rem; }

.up-title { margin: 0 0 .25rem; font-size: 1.25rem; }
.up-meta  { margin: 0 0 .35rem; color: #4b5563; font-weight: 500; }
.up-summary { margin: 0 0 .4rem; color: #374151; }
.up-link {
  display: inline-block;
  font-weight: 600;
  color: #0a4b8c;
  text-decoration: none;
}

/* Empty state */
.up-empty {
  display: grid;
  place-items: center;
  text-align: center;
  padding: 2rem 1.25rem;
  min-height: 140px;
}
.up-empty h3 { margin: 0 0 .35rem; font-size: 1.15rem; color: #0a4b8c; }
.up-empty p  { margin: 0 0 .5rem; color: #4b5563; }
.up-empty-link {
  font-weight: 600;
  color: #0a4b8c;
  text-decoration: none;
}

/* =========================================================
   Split strip between sections
   ========================================================= */
.events-split {
  margin-top: 2rem;
  height: 10px;
  background: #1f7aa7;
}

/* =========================================================
   Previous (horizontal scroll of cards)
   ========================================================= */
.past-section {
  background: #1f7aa7;
  padding-top: .5rem;
  padding-bottom: 2rem;
}

/* simple centered container (no arrow columns anymore) */
.past-rail {
  max-width: 1200px;
  margin: 0 auto;
}

.past-track {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(260px, 320px);
  gap: 1.5rem;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding: .5rem .25rem 1rem;
}
.past-track::-webkit-scrollbar { height: 10px; }
.past-track::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,.35);
  border-radius: 999px;
}

.past-card {
  scroll-snap-align: start;
  border-radius: 16px;
  overflow: hidden;
  background: #fff;
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  display: grid;
  grid-template-rows: 180px auto;
  min-height: 320px;
}
.past-cover { width: 100%; height: 100%; object-fit: cover; }
.past-content { padding: .9rem .95rem 1rem; }
.past-title { margin: 0 0 .15rem; font-size: 1rem; }
.past-meta  { font-size: .9rem; color: #6b7280; margin-bottom: .4rem; }
.past-summary { font-size: .95rem; color: #334155; }

/* Empty previous section placeholder */
.past-empty {
  max-width: 800px;
  margin: 0 auto 2.5rem;
  text-align: center;
}
.past-empty-text { color: #475569; margin: .25rem 0 0; }

/* =========================================================
   Interactions
   ========================================================= */
.is-clickable { cursor: pointer; transition: transform .06s ease, box-shadow .06s ease; }
.is-clickable:focus { outline: 2px solid #0a4b8c; outline-offset: 2px; }
.is-clickable:hover { transform: translateY(-1px); box-shadow: 0 4px 14px rgba(0,0,0,.12); }

/* =========================================================
   Modal
   ========================================================= */
.modal-overlay {
  position: fixed; inset: 0; z-index: 80;
  background: rgba(0,0,0,.45);
  display: grid; place-items: center;
  padding: clamp(18px, 3vw, 40px);
}
.modal {
  max-width: 860px; width: min(900px, 100%);
  background: #fff; border-radius: 16px;
  box-shadow: 0 20px 40px rgba(0,0,0,.25);
  padding: clamp(18px, 3vw, 28px);
  max-height: 90vh; overflow: auto;
}
.modal-close {
  position: sticky; top: 0; float: right;
  border: 0; background: transparent; font-size: 1.75rem; line-height: 1;
  cursor: pointer; color: #334155;
}
.modal-title   { margin: .25rem 2rem 1rem .25rem; font-size: 2rem; }
.modal-summary { margin: 0 0 1rem .25rem; color: #374151; }

/* meta rows with icons */
.meta-list { display: grid; gap: .4rem; margin: .25rem 0 .75rem .25rem; }
.meta-row  { display: grid; grid-template-columns: 22px 1fr; align-items: center; gap: .5rem; color: #475569; }
.meta-icon { width: 18px; height: 18px; color: #64748B; }

/* large image carousel inside modal */
.modal-carousel { position: relative; margin-top: .75rem; }
.carousel-img {
  width: 100%;
  height: min(46vh, 420px);
  object-fit: cover;
  border-radius: 16px;
  background: #e5e7eb;
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
}
.carousel-btn {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 40px; height: 40px; border-radius: 999px;
  display: grid; place-items: center;
  border: none; cursor: pointer;
  background: rgba(255,255,255,.92);
  box-shadow: 0 6px 16px rgba(0,0,0,.2);
  color: #0a4b8c;
}
.carousel-btn .chev { width: 22px; height: 22px; }
.carousel-btn.prev { left: 10px; }
.carousel-btn.next { right: 10px; }

.carousel-dots {
  display: flex; justify-content: center; gap: .35rem;
  margin-top: .5rem;
}
.carousel-dots .dot {
  width: 8px; height: 8px; border-radius: 999px; border: 0;
  background: rgba(2,6,23,.25); cursor: pointer;
}
.carousel-dots .dot.is-active { background: #0a4b8c; }

/* =========================================================
   Responsive tweaks
   ========================================================= */
@media (max-width: 700px) {
  .events-hero-img { height: 200px; }
  .up-card { grid-template-columns: 68px 1fr; }
  .up-card::after {
    left: 14px;
    right: 14px;
    bottom: -.75rem;
  }
  .past-track { grid-auto-columns: 78vw; }
}
@media (max-width: 640px) {
  .events-hero { width: calc(100% - 2rem); border-radius: 16px; }
  .events-hero-img { height: clamp(180px, 40vw, 300px); }
  .modal { padding: 1rem .75rem; }
}


.feed-list {
  max-width: 1000px;
  margin: 0 auto 1.5rem;
  display: grid;
  gap: 1rem;
  padding: .5rem 0 1rem;
}

.feed-list .up-card::after {
  content: "";
  position: absolute;
  left: 22px;
  right: 22px;
  bottom: -1rem;
  height: 2px;
  background: #0a4b8c;
  opacity: .45;
  border-radius: 999px;
}

.feed-list .up-card:last-of-type::after {
  content: none;
}

@media (max-width: 700px) {
  .feed-list .up-card { grid-template-columns: 68px 1fr; }
  .feed-list .up-card::after { left: 14px; right: 14px; bottom: -.75rem; }
}


/* ===== Mobile header sizing & spacing ===== */
@media (max-width: 700px) {
  /* Main page title */
  h1.events-heading {
    font-size: clamp(1.75rem, 4.5vw + 1rem, 2.25rem);
    margin-bottom: 1rem;
    text-align: center;
  }

  /* Section headers (Upcoming / Previous) */
  h2.events-heading {
    font-size: clamp(1.125rem, 2.2vw + 0.9rem, 1.5rem);
    font-weight: 600;
    color: #0a4b8c;
    text-align: center;          /* smaller + left-aligned to feel subordinate */
    margin: 0.25rem auto 0.5rem;
    width: calc(100% - 3rem);  /* align with feed width */
    max-width: 1000px;
  }

  /* Slightly tighter feed spacing on mobile */
  .feed-list {
    gap: 0.85rem;
    margin-bottom: 1.25rem;
  }
}

@media (min-width: 701px) {
  .up-card { padding-bottom: 1rem; }
  .up-card::after { bottom: 0; }   /* was -1rem */
  .up-page { scroll-snap-stop: always; }
}


/* ===== Full-screen modal on mobile ===== */
@media (max-width: 700px) {
  .modal-overlay {
    padding: 0;                 /* remove gutter */
    display: block;             /* no centering grid */
  }

  .modal {
    width: 100%;
    height: 100dvh;             /* mobile-safe viewport */
    max-width: none;
    max-height: none;
    border-radius: 0;           /* edge-to-edge */
    box-shadow: none;           /* looks like its own page */
    padding: calc(env(safe-area-inset-top) + 16px) 16px
             calc(env(safe-area-inset-bottom) + 16px);
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
  }

  /* keep the close button always reachable */
  .modal-close {
    position: fixed;            /* independent of scroll */
    top: calc(env(safe-area-inset-top) + 12px);
    right: 12px;
    z-index: 2;
    width: 44px; height: 44px;  /* comfy tap target */
    line-height: 44px;
  }

  /* tighten title + spacing on small screens */
  .modal-title {
    font-size: clamp(1.35rem, 4.5vw + .6rem, 1.9rem);
    margin: 0 2.75rem .75rem .25rem; /* space for fixed X */
  }
  .meta-list { margin-bottom: .75rem; }

  /* optional: cap image height so content below is visible */
  .carousel-img {
    height: min(40dvh, 360px);
  }
}

/* Ensure modal overlays site header */
.modal-overlay { z-index: 10000; overscroll-behavior: contain; }
.modal-close  { z-index: 10001; } /* fixed close stays above content */